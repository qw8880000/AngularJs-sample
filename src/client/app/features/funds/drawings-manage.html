<div class="main-inner">
  <div class="main-header main-section">
    <ol class="breadcrumb h5 main-header__title">
      <li class="breadcrumb__item">资金</li>
      <li class="breadcrumb__item breadcrumb__item--active">退款管理</li>
    </ol>
  </div>

  <div class="main-body">

    <!--horizontal navigation-->
    <div class="main-section">
      <nav-tabs nav-items="vm.drawingStates"
                nav-item-name-by="name"
                ng-change="vm.searchAction()"
                ng-model="vm.search.drawingState">
      </nav-tabs>
    </div>

    <!-- search -->
    <ul class="main-search main-section">
      <li class="main-search__item">
        <div class="form">
          <label class="form__label" for="sn">申请单编号：</label>
          <input class="form__control main-search__input"
                 ng-model="vm.search.serialNumber"
                 placeholder="请输入申请单编号"
                 type="text" name="sn" id="sn"/>
        </div>
      </li>
      <li class="main-search__item">
        <datepicker-group
            dtp-title="时间范围："
            dtp-show-interval="true"
            dtp-date-start="vm.search.beginCreateTime"
            dtp-date-end="vm.search.endCreateTime">
        </datepicker-group>
      </li>
      <li class="main-search__item">
        <span class="btn btn-outline--primary" ng-click="vm.searchAction()">
          <i class="fa fa-search" aria-hidden="true"></i>
        </span>
      </li>
    </ul>

    <!-- data table -->
    <div class="main-section">
      <table class="table main-table">
        <tr>
          <th>申请单编号</th>
          <th>取现金额</th>
          <th>提现者名称</th>
          <th>申请时间</th>
          <th>结束时间</th>
          <th>状态</th>
          <th>操作</th>
        </tr>
        <tr ng-repeat="drawing in vm.drawings">
          <td>{{drawing.serialNumber}}</td>
          <td>{{drawing.amount/100 | currency: '￥'}}</td>
          <td>{{drawing.recipient}}</td>
          <td>{{drawing.createTime | date:"yyyy/MM/dd HH:mm"}}</td>
          <td>{{drawing.finishTime | date:"yyyy/MM/dd HH:mm"}}</td>
          <td>{{drawing.state.name}}</td>
          <td>
            <span ng-if="vm.isFinished()">--</span>
            <a class="main-action__edit" ng-if="!vm.isFinished()" ng-click="vm.confirm(drawing)" href="">审批</a>
          </td>
        </tr>
      </table>
    </div>

    <!-- pagination -->
    <pagination class="main-section"
                items-per-page="vm.itemsPerPage"
                total-items="vm.totalItems"
                ng-model="vm.currentPage"
                ng-change="vm.refresh()">
    </pagination>

  </div>
</div>